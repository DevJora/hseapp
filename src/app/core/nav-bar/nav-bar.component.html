<!-- Navbar -->
<div class="navbar bg-base-100 shadow-md px-4">
  <!-- Logo -->
  <div class="flex-1">
    <a class="btn btn-ghost text-xl" routerLink="/home">HSE App</a>
  </div>

  <!-- Desktop menu -->
  <div class="hidden md:flex items-center gap-4">
    <ul class="menu menu-horizontal px-1">
      <li><a routerLink="/home">Accueil</a></li>
      <li *ngIf="isLoggedIn() && getRole() === 'HSE'"><a routerLink="/hse">Interface HSE</a></li>
      <li *ngIf="isLoggedIn() && getRole() === 'Exploitant'"><a routerLink="/exploitant">Exploitant</a></li>
    </ul>

    <div class="flex items-center gap-2">
      <button *ngIf="!isLoggedIn()" class="btn btn-outline btn-primary btn-sm" routerLink="/login">
        Connexion
      </button>

      <div *ngIf="isLoggedIn()" class="flex items-center gap-2">
        <span class="text-sm hidden md:inline">{{ getPseudo() }} ({{ getRole() }})</span>
        <button class="btn btn-outline btn-error btn-sm" (click)="logout()">
          Déconnexion
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile menu -->
  <div class="dropdown dropdown-end md:hidden">
    <button tabindex="0" class="btn btn-ghost">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2"
           viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
    <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
      <li><a routerLink="/home">Accueil</a></li>
      <li *ngIf="isLoggedIn() && getRole() === 'HSE'"><a routerLink="/hse">Interface HSE</a></li>
      <li *ngIf="isLoggedIn() && getRole() === 'Exploitant'"><a routerLink="/exploitant">Exploitant</a></li>
      <li *ngIf="!isLoggedIn()"><a routerLink="/login">Connexion</a></li>
      <li *ngIf="isLoggedIn()">
        <a (click)="logout()">Déconnexion</a>
      </li>
    </ul>
  </div>
</div>
